using NUnit.Framework;
using static NUnit.Framework.Assert;
using i32 = System.Int32;
using i64 = System.Int64;
using u32 = System.UInt32;
using u64 = System.UInt64;

namespace AgatePris.Intar.Tests.Integer {
    public class OverflowingTest {
        [Test]
        public void Test() {
            const i32 i32_0 = 0;
            const i64 i64_0 = 0;
            const u32 u32_0 = 0;
            const u64 u64_0 = 0;
            const i32 i32_2 = 2;
            const i64 i64_2 = 2;
            const u32 u32_2 = 2;
            const u64 u64_2 = 2;
            const i32 i32_10 = 10;
            const i64 i64_10 = 10;
            const i32 i32Neg2 = -2;
            const i64 i64Neg2 = -2;
            const i32 i32Neg100 = -100;
            const i64 i64Neg100 = -100;
            const i32 i32_100 = 100;
            const i64 i64_100 = 100;
            const u32 u32_1 = 1;
            const u64 u64_1 = 1;
            const u32 u32_100 = 100;
            const u64 u64_100 = 100;
            const u32 u32_200 = 200;
            const u64 u64_200 = 200;
            AreEqual(Overflowing.WrappingAdd(i32_100, 27), 127);
            AreEqual(Overflowing.WrappingAdd(i64_100, 27), 127);
            AreEqual(Overflowing.WrappingAdd(u32_200, 55), 255);
            AreEqual(Overflowing.WrappingAdd(u64_200, 55), 255);
            AreEqual(Overflowing.WrappingAdd(i32.MaxValue, 2), i32.MinValue + 1);
            AreEqual(Overflowing.WrappingAdd(i64.MaxValue, 2), i64.MinValue + 1);
            AreEqual(Overflowing.WrappingAdd(u32_200, u32.MaxValue), 199);
            AreEqual(Overflowing.WrappingAdd(u64_200, u64.MaxValue), 199);
            AreEqual(Overflowing.WrappingSub(i32_0, 127), -127);
            AreEqual(Overflowing.WrappingSub(i64_0, 127), -127);
            AreEqual(Overflowing.WrappingSub(u32_100, 100), 0);
            AreEqual(Overflowing.WrappingSub(u64_100, 100), 0);
            AreEqual(Overflowing.WrappingSub(i32Neg2, i32.MaxValue), i32.MaxValue);
            AreEqual(Overflowing.WrappingSub(i64Neg2, i64.MaxValue), i64.MaxValue);
            AreEqual(Overflowing.WrappingSub(u32_100, u32.MaxValue), 101);
            AreEqual(Overflowing.WrappingSub(u64_100, u64.MaxValue), 101);
            AreEqual(Overflowing.WrappingMul(i32_10, 12), 120);
            AreEqual(Overflowing.WrappingMul(i64_10, 12), 120);
            AreEqual(Overflowing.WrappingAddUnsigned(i32_100, 27), 127);
            AreEqual(Overflowing.WrappingAddUnsigned(i64_100, 27), 127);
            AreEqual(Overflowing.WrappingAddUnsigned(i32_2, u32.MaxValue), 1);
            AreEqual(Overflowing.WrappingAddUnsigned(i64_2, u64.MaxValue), 1);
            AreEqual(Overflowing.WrappingSubUnsigned(i32_0, 127), -127);
            AreEqual(Overflowing.WrappingSubUnsigned(i64_0, 127), -127);
            AreEqual(Overflowing.WrappingSubUnsigned(i32Neg2, u32.MaxValue), -1);
            AreEqual(Overflowing.WrappingSubUnsigned(i64Neg2, u64.MaxValue), -1);
            AreEqual(Overflowing.WrappingAddSigned(u32_1, 2), 3);
            AreEqual(Overflowing.WrappingAddSigned(u64_1, 2), 3);
            AreEqual(Overflowing.WrappingAddSigned(u32_1, -2), u32.MaxValue);
            AreEqual(Overflowing.WrappingAddSigned(u64_1, -2), u64.MaxValue);
            AreEqual(Overflowing.WrappingAddSigned(u32.MaxValue, 2), 1);
            AreEqual(Overflowing.WrappingAddSigned(u64.MaxValue, 2), 1);
            AreEqual(Overflowing.WrappingNeg(i32_100), -100);
            AreEqual(Overflowing.WrappingNeg(i64_100), -100);
            AreEqual(Overflowing.WrappingNeg(i32.MinValue), i32.MinValue);
            AreEqual(Overflowing.WrappingNeg(i64.MinValue), i64.MinValue);
            AreEqual(Overflowing.WrappingNeg(u32_0), 0);
            AreEqual(Overflowing.WrappingNeg(u64_0), 0);
            AreEqual(Overflowing.WrappingNeg(u32.MaxValue), 1);
            AreEqual(Overflowing.WrappingNeg(u64.MaxValue), 1);
            AreEqual(Overflowing.WrappingNeg(u32_2), unchecked((u32)((~2) + 1)));
            AreEqual(Overflowing.WrappingNeg(u64_2), unchecked((u64)((~2) + 1)));
            AreEqual(Overflowing.WrappingNeg(u32_2), unchecked((u32)~1));
            AreEqual(Overflowing.WrappingNeg(u64_2), unchecked((u64)~1));
            AreEqual(Overflowing.WrappingAbs(i32_100), 100);
            AreEqual(Overflowing.WrappingAbs(i64_100), 100);
            AreEqual(Overflowing.WrappingAbs(i32Neg2), 2);
            AreEqual(Overflowing.WrappingAbs(i64Neg2), 2);
            AreEqual(Overflowing.WrappingAbs(i32.MinValue), i32.MinValue);
            AreEqual(Overflowing.WrappingAbs(i64.MinValue), i64.MinValue);
            AreEqual(unchecked((u32)Overflowing.WrappingAbs(i32.MinValue)), (u32)i32.MaxValue + 1);
            AreEqual(unchecked((u64)Overflowing.WrappingAbs(i64.MinValue)), (u64)i64.MaxValue + 1);
            AreEqual(Overflowing.UnsignedAbs(i32_100), 100);
            AreEqual(Overflowing.UnsignedAbs(i64_100), 100);
            AreEqual(Overflowing.UnsignedAbs(i32Neg2), 2);
            AreEqual(Overflowing.UnsignedAbs(i64Neg2), 2);
            AreEqual(Overflowing.UnsignedAbs(i32.MinValue), (u32)i32.MaxValue + 1);
            AreEqual(Overflowing.UnsignedAbs(i64.MinValue), (u64)i64.MaxValue + 1);
            AreEqual(Overflowing.AbsDiff(i32_100, i32_2), 98);
            AreEqual(Overflowing.AbsDiff(i64_100, i64_2), 98);
            AreEqual(Overflowing.AbsDiff(i32_2, i32_100), 98);
            AreEqual(Overflowing.AbsDiff(i64_2, i64_100), 98);
            AreEqual(Overflowing.AbsDiff(i32Neg2, i32_100), 102);
            AreEqual(Overflowing.AbsDiff(i64Neg2, i64_100), 102);
            AreEqual(Overflowing.AbsDiff(i32Neg2, i32Neg100), 98);
            AreEqual(Overflowing.AbsDiff(i64Neg2, i64Neg100), 98);
            AreEqual(Overflowing.AbsDiff(i32.MinValue, i32.MaxValue), u32.MaxValue);
            AreEqual(Overflowing.AbsDiff(i64.MinValue, i64.MaxValue), u64.MaxValue);
            AreEqual(Overflowing.AbsDiff(u32_100, u32_1), 99);
            AreEqual(Overflowing.AbsDiff(u64_100, u64_1), 99);
            AreEqual(Overflowing.AbsDiff(u32_1, u32_100), 99);
            AreEqual(Overflowing.AbsDiff(u64_1, u64_100), 99);
        }
    }
}
